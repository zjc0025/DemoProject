<!DOCTYPE html>
<html>
<head>
    <title>Hello MiniUI!</title>
    <meta charset="utf-8">
    <!--<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />-->
    <!--jQuery js-->
    <script src="../../resources/js/jquery.min.js" type="text/javascript"></script>
    <script src="../../resources/js/boot.js" type="text/javascript"></script>
    <!--MiniUI-->
    <link href="../../resources/js/miniui/themes/default/miniui.css" rel="stylesheet" type="text/css" />
    <script src="../../resources/js/miniui/miniui.js" type="text/javascript"></script>
</head>
<body>

<h1>哈哈哈</h1>

<div id="datagrid1" class="mini-datagrid" style="width:100%;height:250px;"
     url="/user/page"
     idField="id" allowResize="true"
     sizeList="[20,30,50,100]" pageSize="20"
     showHeader="true" title="表格面板"
     onmouseup="return datagrid1_onmouseup()">
    <div property="columns">
        <div type="indexcolumn" ></div>
        <div field="email" width="120" headerAlign="center" allowSort="true">员工帐号</div>
        <div field="password" width="120" headerAlign="center" allowSort="true">姓名</div>
        <div field="userName" width="100" renderer="onGenderRenderer" align="center" headerAlign="center">性别</div>
        <div field="role" numberFormat="¥#,0.00" align="right" width="100" allowSort="true">薪资</div>
        <div field="status" width="100" allowSort="true" decimalPlaces="2" dataType="float">年龄</div>
        <div field="regTime" width="100" headerAlign="center" dateFormat="yyyy-MM-dd" allowSort="true">创建日期</div>
    </div>
</div>

</body>
</html>

<script>

    $(function(){
        mini.parse();

        var grid = mini.get("datagrid1");

        grid.load();

        $.ajax({
            url:"/user/query",
            type:"post",
            data:'{"id":"1"}',
            dataType:"json",
            contentType:'application/json; charset=utf-8',
            success:function(result){
                // alert(result.status);
            }});

    });

</script>